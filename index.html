<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Smartbeacon-base-ios-sdk by smartbeacon</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Smartbeacon-base-ios-sdk</h1>
        <p>Updated SmartBeacon SDK</p>

        <p class="view"><a href="https://github.com/smartbeacon/smartbeacon-base-ios-sdk">View the Project on GitHub <small>smartbeacon/smartbeacon-base-ios-sdk</small></a></p>


        <ul>
          <li><a href="https://github.com/smartbeacon/smartbeacon-base-ios-sdk/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/smartbeacon/smartbeacon-base-ios-sdk/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/smartbeacon/smartbeacon-base-ios-sdk">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h1>
<a name="smartbeacon-ios-sdk-v2-for-ios-7" class="anchor" href="#smartbeacon-ios-sdk-v2-for-ios-7"><span class="octicon octicon-link"></span></a>SmartBeacon iOS SDK v2 for iOS 7</h1>

<h2>
<a name="introduction" class="anchor" href="#introduction"><span class="octicon octicon-link"></span></a>Introduction</h2>

<p>SmartBeacon’s SDK simplifies the use of Apple’s iBeacon technology with SmartBeacon’s hardware. In only few steps, you will be able to communicate with our beacons and send notifications.</p>

<h2>
<a name="whats-new" class="anchor" href="#whats-new"><span class="octicon octicon-link"></span></a>What's new</h2>

<p>We have open the SmartBeacon SDK for all beacons.</p>

<h2>
<a name="installation" class="anchor" href="#installation"><span class="octicon octicon-link"></span></a>Installation</h2>

<p>Follow steps described below to install SmartBeacon-SDK library:</p>

<ol>
<li><p>Download SmartBeacon-SDK.framework and copy it into your project directory.</p></li>
<li>
<p>Open your Xcode project, go to targets pane, then go to Build Phases tab. In Link Binary With Libraries section, click +. In the popup window click add other at the bottom and select SmartBeacon-SDK.framework file.</p>

<p>SmartBeacon-SDK requires following native iOS framework: </p>

<ul>
<li>CoreLocation.framework</li>
</ul>
</li>
<li><p>That's about it ;)</p></li>
</ol><p>Note: our SmartBeacons have the following proximity UUID: 85FC11DD-4CCA-4B27-AFB3-876854BB5C3B</p>

<h2>
<a name="integration" class="anchor" href="#integration"><span class="octicon octicon-link"></span></a>Integration</h2>

<p>In few steps, you can integrate our SDK, quick and easy.</p>

<p>In the following example, we want to notify the user when he gets out of the range defined by SmartBeacon private proximity UUID. The following code shows implementation in a basic View Controller named DemoViewController.</p>

<p>DemoViewController.h</p>

<pre><code>#import &lt;UIKit/UIKit.h&gt;

@interface DemoViewController : UIViewController

@end
</code></pre>

<p>DemoViewController.m</p>

<pre><code>#import "DemoViewController.h"

// make sure you add frameworks header
#import &lt;CoreLocation/CoreLocation.h&gt;
#import &lt;SmartBeacon-SDK/SmartBeacon.h&gt;

@interface DemoViewController () &lt;SBLocationManagerDelegate&gt;
@end

@implementation DemoViewController

// UIViewController life cycle

- (void)loadView
{
    [super loadView];

    // load UI
}

- (void)viewDidLoad
{
    [super viewDidLoad];

    // getting shared instance
    SBInstanceSingleton *sbInstance = [SBInstanceSingleton sharedInstance];

    // add entire SmartBeacon region
    // identifier is a value that you specify and can use to identify this region inside your application
    [sbInstance addEntireBeaconRegionWithIdentifier:@"custom_identifier"];

    // start listening beacon region
    [sbIntance startServicesForTarget:self];
}

// SBLocationManagerDelegate

//
// This method is called when the user enter in the listened region.
// Called if the user is not already inside the region.
//
- (void)beaconManager:(SBLocationManager *)manager didEnterRegion:(CLRegion *)region
{
    // Local notifications are visible only if the app is in background (and if the user allowed them).
    //
    // That's why, in this case, we open an UIAlertView popup if app is visible and a local notification if is in background.

    if (UIApplicationStateActive == [[UIApplication sharedApplication] applicationState])
    {
        UIAlertView *alertView = [[UIAlertView alloc] initWithTitle:@"SmartBeaconSDK" message:@"Hello, how are you?" delegate:nil cancelButtonTitle:@"Close" otherButtonTitles:nil];
        [alertView show];
    }
    else if (UIApplicationStateBackground == [[UIApplication sharedApplication] applicationState])
    {
        UILocalNotification *localNotification = [[UILocalNotification alloc] init];
        [localNotification setSoundName:UILocalNotificationDefaultSoundName];
        [localNotification setAlertBody:@"SmartBeaconSDK - Hello, how are you?"];

        [[UIApplication sharedApplication] presentLocalNotificationNow:localNotification];
    }
}

// This method is called when the user exit the listened region.
// It is not immediate, we can wait over 10 seconds before call.
- (void)beaconManager:(SBLocationManager *)manager didExitRegion:(CLRegion *)region
{
    // Local notifications are visible only if the app is in background (and if the user allowed them).
    //
    // That's why, in this case, we open an UIAlertView popup if app is visible and a local notification if is in background.

    if (UIApplicationStateActive == [[UIApplication sharedApplication] applicationState])
    {
        UIAlertView *alertView = [[UIAlertView alloc] initWithTitle:@"SmartBeaconSDK" message:@"Bye, see you next time !" delegate:nil cancelButtonTitle:@"Close" otherButtonTitles:nil];
        [alertView show];
    }
    else if (UIApplicationStateBackground == [[UIApplication sharedApplication] applicationState])
    {
        UILocalNotification *localNotification = [[UILocalNotification alloc] init];
        [localNotification setSoundName:UILocalNotificationDefaultSoundName];
        [localNotification setAlertBody:@"SmartBeaconSDK - Bye, see you next time !"];

        [[UIApplication sharedApplication] presentLocalNotificationNow:localNotification];
    }
}

- (void)beaconManager:(SBLocationManager *)manager didDiscoverBeacons:(NSArray *)beacons inRegion:(CLRegion *)region
{
    NSLog(@"example app discover %d beacons!", [beacons count]);

    if ([beacons count])
    {
        CLBeacon *nearestBeacon = [beacons firstObject];
        NSLog(@"Nearest beacon ID: %@ / %@ / %@", [nearestBeacon proximityUUID], [nearestBeacon major], [nearestBeacon minor]);
    }
}

- (void)beaconManager:(SBLocationManager *)manager beacon:(CLBeacon *)beacon didUpdateFromProximity:(CLProximity)fromProximity toProximity:(CLProximity)toProximity
{

}

// let see SBLocationManagerDelegate protocol for more useful methods

@end
</code></pre>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/smartbeacon">smartbeacon</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>